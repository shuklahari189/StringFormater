<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="shortcut icon"
            href="https://img.icons8.com/?size=100&id=110866&format=png"
            type="image/x-icon"
        />
        <title>String fomratter</title>
    </head>
    <body>
        <input type="file" id="fileInput" multiple />
        <ul id="fileList"></ul>
        <input type="text" id="input" autocomplete="off" />
        <p id="output"></p>
    </body>
    <script>
        const fileInput = document.getElementById("fileInput");
        let fileList = document.getElementById("fileList");
        let input = document.getElementById("input");
        let output = document.getElementById("output");

        fileInput.addEventListener("change", function () {
            fileList.innerHTML = ""; // Clear previous list
            // Loop through each selected file
            for (let i = 0; i < this.files.length; i++) {
                let listItem = document.createElement("li");
                listItem.textContent = this.files[i].name
                    .slice(0, this.files[i].name.lastIndexOf("."))
                    .replace(/[^a-zA-Z0-9]+/g, "_")
                    .replace(/_$/, "");
                fileList.appendChild(listItem);
            }
        });
        input.addEventListener("change", function () {
            output.innerHTML = input.value
                .replace(/[^a-zA-Z0-9]+/g, "_")
                .replace(/_$/, "");
        });
    </script>
</html>
